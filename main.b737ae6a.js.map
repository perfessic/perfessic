{"version":3,"sources":["main.ts"],"names":[],"mappings":"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","file":"main.b737ae6a.js","sourceRoot":"../src","sourcesContent":["interface Tour {\n  index: number,\n  year: string,\n  tournament: string\n}\n\ninterface Player {\n  index: number,\n  year: string,\n  player: string,\n  qualifier: boolean\n}\n\nfunction encodeName(n: string): string {\n  return n.replace(' Qualifiers', '').toLowerCase().replace(/\\s/g, '_')\n}\n\nfunction insertTour(year: string, index: number, player, tour: string) {\n  const p = {\n    index: index,\n    year: year,\n    tournament: tour\n  }\n  if (playerBreaks[player] === undefined) {\n    playerBreaks[player] = [p]\n  } else {\n    playerBreaks[player].push(p)\n  }\n}\n\nfunction insertPlayer(year: string, index: number, player, tour: string) {\n  const t = {\n    index: index,\n    year: year,\n    player: player,\n    qualifier: false\n  }\n  const tn = tour.replace(' Qualifiers', '')\n  if (tn !== tour) {\n    t.qualifier = true\n  }\n  if (tourBreaks[tn] === undefined) {\n    tourBreaks[tn] = [t]\n  } else {\n    tourBreaks[tn].push(t)\n  }\n}\n\n\nconst balers = document.getElementsByClassName('baler')\nlet index = 0\nconst playerBreaks = new Map<string, Tour[]>()\nconst tourBreaks = new Map<string, Player[]>()\n\nfor (let i = balers.length-1; i >= 0; i--) {\n  const yearEl = (balers[i].childNodes[1] as Element)\n  const year = yearEl.textContent\n  yearEl.id = year\n  let lis = (balers[i].childNodes[3] as Element).children\n\n  const breaksEl = document.createElement('span')\n  breaksEl.appendChild(document.createTextNode(lis.length + (lis.length === 1 ? ' Break' : ' Breaks')))\n  yearEl.appendChild(breaksEl)\n\n  for (let j = lis.length-1; j >= 0; j--) {\n    ++index\n    // init two breaks map\n    const player = (lis[j].childNodes[1] as any).textContent\n    const tour = (lis[j].childNodes[3] as any).textContent\n    insertTour(year, index, player, tour)\n    insertPlayer(year, index, player, tour)\n    \n    let indexEl = document.createElement('strong')\n    indexEl.appendChild(document.createTextNode(index + '.'))\n    lis[j].insertBefore(indexEl, lis[j].childNodes[0])\n  }\n}\n\nfunction fillBreaksPlayer(balerEl: HTMLElement, playerName: string, tours: Tour[]) {\n  let h4El = document.createElement('h4')\n  h4El.appendChild(document.createTextNode(playerName))\n  h4El.id = encodeName(playerName)\n  balerEl.appendChild(h4El)\n\n  let ulEl = document.createElement('ul')\n  for (let j = 0; j < tours.length; j++) {\n    let li = tours[j]\n    let liEl = document.createElement('li')\n    let indexEl = document.createElement('strong')\n    indexEl.appendChild(document.createTextNode(li.index + '.'))\n    liEl.appendChild(indexEl)\n\n    liEl.appendChild(document.createTextNode(' '))\n\n    let tourEl = document.createElement('a')\n    tourEl.setAttribute('href', '#tournaments%40' + encodeName(li.tournament))\n    tourEl.appendChild(document.createTextNode(li.tournament))\n    liEl.appendChild(tourEl)\n\n    liEl.appendChild(document.createTextNode(' - '))\n\n    let yearEl = document.createElement('a')\n    yearEl.setAttribute('href', '#years%40' + li.year)\n    yearEl.appendChild(document.createTextNode(li.year + ''))\n    liEl.appendChild(yearEl)\n\n    ulEl.appendChild(liEl)\n  }\n  balerEl.appendChild(ulEl)\n}\n\nfunction fillTournament(balerEl: HTMLElement, tourName: string, players: Player[]) {\n  let ulEl = document.createElement('ul')\n  for (let j = 0; j < players.length; j++) {\n    let li = players[j]\n    let liEl = document.createElement('li')\n    let indexEl = document.createElement('strong')\n    indexEl.appendChild(document.createTextNode(li.index + '.'))\n    liEl.appendChild(indexEl)\n\n    liEl.appendChild(document.createTextNode(' '))\n\n    let playerEl = document.createElement('a')\n    playerEl.setAttribute('href', '#breaks%40' + encodeName(li.player))\n    playerEl.appendChild(document.createTextNode(li.player))\n    liEl.appendChild(playerEl)\n\n    liEl.appendChild(document.createTextNode(' - '))\n\n    let yearEl = document.createElement('a')\n    yearEl.setAttribute('href', '#years%40' + li.year)\n    yearEl.appendChild(document.createTextNode(li.year + ''))\n    liEl.appendChild(yearEl)\n\n    if (li.qualifier) {\n      liEl.appendChild(document.createTextNode(' Qualifiers'))\n    }\n\n    ulEl.appendChild(liEl)\n  }\n  balerEl.appendChild(ulEl)\n}\n\n/*\n * construct breaks\n */\n((pt) => {\n  const sortedPlayers = Object.keys(pt).sort((a, b) => {\n    return pt[b].length - pt[a].length\n  })\n\n  const secEl = document.createElement('section')\n  secEl.className = 'breaks'\n\n  for (let i = 0; i < sortedPlayers.length; i++) {\n    let sp = sortedPlayers[i]\n    let balerEl = document.createElement('div')\n    balerEl.className = 'baler'\n\n    let h3El = document.createElement('h3')\n    h3El.appendChild(document.createTextNode(pt[sp].length))\n    let breaksEl = document.createElement('span')\n    breaksEl.appendChild(document.createTextNode(pt[sp].length === 1 ? 'Break' : 'Breaks'))\n    h3El.appendChild(breaksEl)\n    balerEl.appendChild(h3El)\n\n    fillBreaksPlayer(balerEl, sp, pt[sp])\n    for (let j = i+1; j < sortedPlayers.length; j++) {\n      if (pt[sp].length === pt[sortedPlayers[j]].length) {\n        let sp = sortedPlayers[j]\n        fillBreaksPlayer(balerEl, sp, pt[sp])\n        i = j\n      }\n    }\n\n    secEl.appendChild(balerEl)\n  }\n\n  const yearsEl = document.getElementsByClassName('years')[0]\n  yearsEl.parentNode.insertBefore(secEl, yearsEl)\n})(playerBreaks);\n\n/*\n * construct tournaments\n */\n((tt) => {\n  const sortedTours = Object.keys(tt).sort((a, b) => {\n    return tt[b].length - tt[a].length\n  })\n\n  const secEl = document.createElement('section')\n  secEl.className = 'tournaments'\n\n  for (let i = 0; i < sortedTours.length; i++) {\n    let st = sortedTours[i]\n    let balerEl = document.createElement('div')\n    balerEl.className = 'baler'\n\n    let h4El = document.createElement('h4')\n    h4El.appendChild(document.createTextNode(st))\n    h4El.id = encodeName(st)\n    let breaksEl = document.createElement('span')\n    breaksEl.appendChild(document.createTextNode(tt[st].length + (tt[st].length === 1 ? ' Break' : ' Breaks')))\n    h4El.appendChild(breaksEl)\n    balerEl.appendChild(h4El)\n\n    fillTournament(balerEl, st, tt[st])\n\n    secEl.appendChild(balerEl)\n  }\n\n  const yearsEl = document.getElementsByClassName('years')[0]\n  yearsEl.parentNode.insertBefore(secEl, yearsEl)\n})(tourBreaks)\n\nlet hash = window.location.hash\nif (hash) {\n  jump(hash)\n} else {\n  jump('#years')\n}\n\nfunction jump(hash: string) {\n  hash = decodeURIComponent(hash)\n  const splitHash = hash.split('@')\n  const dimension = splitHash[0].substring(1)\n  const el = document.getElementsByClassName(dimension)[0]\n  const pEl = el.parentNode\n  const chEls = pEl.children\n  for (let i = 0; i < chEls.length; i++) {\n    if (chEls[i].tagName === 'SECTION') {\n      if (chEls[i] != el) {\n        chEls[i].setAttribute('style', 'display:none')\n        chEls[i].className = chEls[i].className.replace(' shown', '')\n      } else {\n        chEls[i].setAttribute('style', 'display:flex')\n        setTimeout(() => {\n          chEls[i].className = dimension + ' shown'\n          if (splitHash.length === 2) {\n            const anchorEl = document.getElementById(splitHash[1])\n            const pos = anchorEl.getBoundingClientRect()\n            window.scrollTo(0, pos.top + window.scrollY)\n          }\n        }, 100)\n      }\n    }\n  }\n\n  const dEl = document.getElementsByClassName('dimension-switch')[0]\n  const dchEls = dEl.children\n  for (let i = 0; i < dchEls.length; i++) {\n    if (dchEls[i].getAttribute('href') === '#' + dimension) {\n      dchEls[i].className = 'active'\n    } else {\n      dchEls[i].className = ''\n    }\n  }\n}\n\ndocument.addEventListener('click', function(e) {\n  let href = (e.target as Element).getAttribute('href')\n  if (href && href.indexOf('#') === 0) {\n    jump(href)\n  }\n})\n"]}